<tal:block
    tal:define="banner python:view.find_banner()"
    i18n:domain="collective.behavior.banner"
    tal:condition="python: banner">

<div id="portal-banner" class="principal portal-banner banner-monads-super-txt" role="complementary"
     tal:define="checkPermission python:context.restrictedTraverse('portal_membership').checkPermission;
                 has_image python:banner and 'banner_image' in banner;
                 textblock_css_class python: view.textblock_css_class();
                 has_bannertext python: banner.get('banner_title') or banner.get('banner_description') or banner.get('banner_text') or banner.get('banner_linktext');
                 show_content_title python: not has_bannertext and view.show_content_title();
                 show_content_title_class python: ' show-content-title' if show_content_title else '';
                 circle_color python: view.circle_color() if show_content_title else '';
                 banner_image_template python: banner.get('banner_image_template');
                 inherited python: banner['banner_obj'] != context;
                 ">

    <div class="container"
        tal:condition="python: banner">

        <div class="gigantic"
             tal:attributes="class python: 'banner_container portal-banner gigantic' + show_content_title_class if (has_image or banner_image_template) else 'banner_container banner_without_image portal-banner gigantic' + show_content_title_class">

                <div class="bannerImage"
                     tal:condition="python: has_image or banner_image_template">
                        <img class="bannerImageImage"
                             tal:condition="python: not has_image and banner_image_template"
                             tal:attributes="src python: banner_image_template;
                                             alt python: banner.get('banner_alt', '')">
                        <img class="bannerImageImage"
                             tal:condition="python:has_image"
                             tal:attributes="src python: banner['banner_image'] + '/' + view.banner_scale();
                                             alt python: banner.get('banner_alt', '')">
                </div>

                <div class="bannerContent frame"
                     tal:condition="python: has_bannertext">

                  <div class="bannerText"
                       tal:attributes="class python: 'bannerText ' + textblock_css_class">

                      <h1 class="bannerTitle"
                           tal:condition="python:'banner_title' in banner">
                          <span tal:replace="python: banner['banner_title']">Title</span>
                      </h1>

                      <p class="bannerDescription"
                           tal:condition="python:'banner_description' in banner">
                          <tal:def tal:define="banner_desc python:banner['banner_description'];">
                              <span tal:replace="banner_desc" />
                          </tal:def>
                      </p>

                      <div class="bannerLink"
                           tal:condition="python: 'banner_link' in banner">

                              <p><a class="context" role="button" target="_blank" href="" title=""
                                    tal:attributes="href python: banner['banner_link']; title python: banner['banner_linktext']"
                                    tal:content="python: banner['banner_linktext']">
                                  Link
                              </a></p>

                      </div>

                      <div class="bannerBody"
                         tal:condition="python:'banner_text' in banner">
                         <span tal:replace="structure python:banner['banner_text']">
                               Text
                         </span>
                      </div>

                  </div>
                </div>

                <div class="bannerContent"
                     tal:condition="python: show_content_title">

                  <div class="contain-shape">
                    <div class="hold-shape">
                      <div class="shape-outer">
                        <div class="fg-theme"
                             tal:attributes="class python: 'fg-' + circle_color">
                          <svg class="shape abs-trbl" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="256" cy="256" r="256" fill="currentColor" />
                          </svg>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="contentTitle">
                    <h2 tal:content="python: context.title" />
                  </div>

                </div>

                <a tal:condition="python: inherited and checkPermission('Modify portal content', banner['banner_obj'])"
                   tal:attributes="href python: banner['banner_obj'].absolute_url() + '/@@edit'"
                   i18n:translate="">
                    Edit inherited banner
                </a>

          </div>
    </div>

</div>
</tal:block>
